import { Syllabus } from "..\..\schema"

type Ratings {
  amazon    RatingDetail
  goodreads RatingDetail
  google    RatingDetail
}

type RatingDetail {
  average Float
  number  Int
  link    String
}

model Book {
  id                       String                  @id @default(auto()) @map("_id") @db.ObjectId
  englishTitle             String   
  spanishTitle             String?
  authors                  String[]
  difficulty               String?
  keywords                 String[]
  span                     String[]
  coverImage               String?
  syllabusImages           String[]
  pages                    Int?
  lastEditionYear          Int?
  lastEditionNumber        Int? 
  publicationDate          Int?
  originCountry            String?
  spanishEdition           Boolean?
  summary                  String[]
  amazonLink               String?
  ratings Ratings?
  topicRecommendation    topicRecommendation?         @relation(fields: [topicRecommendationSlug], references: [slug])
  topicRecommendationSlug String?
  subFieldRecommendation   subFieldRecommendation? @relation(fields: [subFieldRecommendationSlug], references: [slug])
  subFieldRecommendationSlug String?
  syllabus Syllabus[] 
  slug String @unique
  @@map("book")
}

type Syllabus {
  chapter   String
  sections  Section[]
}

type Section {
  title         String
  subsections   Subsection[]
}

type Subsection {
  title String
}


model topicRecommendation {
  id           String @id @default(auto()) @map("_id") @db.ObjectId
  field        String
  subField     String
  topic        String 
  topicSummary String
  slug         String @unique
  books        Book[]
  @@map("topicsRecommendation")
}

model subFieldRecommendation {
  id       String @id @default(auto()) @map("_id") @db.ObjectId
  field    String
  subField String 
  slug     String @unique
  books    Book[]
  @@map("subfieldsRecommendation")
}



